(this["webpackJsonpqpsy-app"]=this["webpackJsonpqpsy-app"]||[]).push([[0],{103:function(e,t,n){e.exports={root:"TapeItem_root__2H4Yf",titleTape:"TapeItem_titleTape__2-rIo",textTape:"TapeItem_textTape__2vBxs",imageTape:"TapeItem_imageTape__1y3-e"}},230:function(e,t,n){e.exports={head:"SettingContent_head__2wLhV",settingTitle:"SettingContent_settingTitle__1pwEb",settingButton:"SettingContent_settingButton__3Yh50",content:"SettingContent_content__1ZmrG"}},273:function(e,t,n){},418:function(e,t,n){},419:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),c=n.n(s),r=n(16),i=n.n(r),o=(n(273),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,483)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))}),l=n(25),u=n(13),d=n(21),j=n(211),b=n(209),p=n(12),h=n(19),m=n.n(h),x=n(35),f=n(63),O=n.n(f),g=n(51),v=n(212).create({baseURL:"https://qpsy.herokuapp.com/"});v.interceptors.request.use((function(e){return O.a.get("access")?(e.headers.Authorization="JWT ".concat(O.a.get("access")),e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e):(e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e)}));var y=function(e,t){var n=JSON.stringify({email:e,password:t});return v.post("api/auth/jwt/create",n).then((function(e){return e.data}))},w=function(){return v.get("api/auth/users/me").then((function(e){return e.data}))},k=function(e){var t=JSON.stringify({email:e});return v.post("api/auth/users/reset_password/",t).then((function(e){return e.data}))},S=function(e,t,n){var a=JSON.stringify({uid:e,token:t,new_password:n});return v.post("api/auth/users/reset_password_confirm/",a).then((function(e){return e.data}))},F=function(e){var t=JSON.stringify({email:e});return v.post("api/v1/users/update-email",t).then((function(e){return e}))},T=function(){return v.post("api/v1/users/update-status").then((function(e){return e}))},N=function(){return v.get("api/v1/chat/chats").then((function(e){return e.data}))},C=function(e){return v.get("api/v1/chat/messages?clientID=".concat(e)).then((function(e){return e.data}))},E=function(e,t){var n=JSON.stringify({clientID:e,text:t});return v.post("api/v1/chat/send-message",n).then((function(e){return e}))},P=function(){return v.get("api/v1/news/list").then((function(e){return e.data}))},I="LOGIN_SUCCESS",_="LOGIN_FAIL",D="LOAD_USER_SUCCESS",A="LOAD_USER_FAIL",z="AUTHENTICATED_SUCCESS",B="AUTHENTICATED_FAIL",L="PASSWORD_RESET_CONFIRM_SUCCESS",M="LOGOUT",R={access:O.a.get("access"),isAuth:!1,user:{},confirmSuccess:!1,isAdmin:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440",isSuperPsy:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442",isPsy:"\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433"},W=function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.a.get("access")){e.next=14;break}return e.prev=1,e.next=4,w();case 4:n=e.sent,console.log(n),t({type:D,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:A});case 12:e.next=15;break;case 14:t({type:A});case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case I:return Object(p.a)(Object(p.a)({},e),{},{isAuth:!0,access:a.access});case D:return Object(p.a)(Object(p.a)({},e),{},{user:a});case z:return Object(p.a)(Object(p.a)({},e),{},{isAuth:!0});case L:return Object(p.a)(Object(p.a)({},e),{},{confirmSuccess:t.confirmSuccess});case B:return Object(p.a)(Object(p.a)({},e),{},{isAuth:!1});case A:return Object(p.a)(Object(p.a)({},e),{},{user:null});case _:case M:return O.a.remove("access"),Object(p.a)(Object(p.a)({},e),{},{access:null,isAuth:!1,user:null});default:return e}},H="SET_TOGGLE_SIDEBAR",G="INITIALIZED_SUCESS",V={openSidebar:!1,initialized:!1},Y=function(){return{type:H}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(p.a)(Object(p.a)({},e),{},{openSidebar:!e.openSidebar});case G:return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});default:return e}},q="SET_USERS_LIST",Z="SET_USERS_MESSAGES",Q="SET_CLIENT_NAME",X={users:[],messages:[],clientName:""},$=function(e){return function(){var t=Object(x.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e);case 3:a=t.sent,n((c=a.client.name,{type:Q,clientName:c})),n((s=a.messages,{type:Z,messages:s})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var s,c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case Z:return Object(p.a)(Object(p.a)({},e),{},{messages:t.messages});case Q:return Object(p.a)(Object(p.a)({},e),{},{clientName:t.clientName});default:return e}},ee="SET_TAPES",te="SET_TAPES_FETCH",ne={tapes:[],fetchTapes:!1},ae=function(e){return{type:te,fetchTapes:e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(p.a)(Object(p.a)({},e),{},{tapes:t.tapes});case te:return Object(p.a)(Object(p.a)({},e),{},{fetchTapes:t.fetchTapes});default:return e}},ce=Object(d.c)({form:b.a,appPage:J,authPage:U,usersPage:K,tapePage:se}),re=Object(d.e)(ce,Object(d.a)(j.a));window.store=re;var ie=re,oe=n(52),le=n(53),ue=n(57),de=n(55),je=n(23),be=n(454),pe=n(17),he=n(477),me=n(481),xe=n(6),fe=n(30),Oe=n(456),ge=n(423),ve=n(480),ye=n(457),we=n(217),ke=n.n(we),Se=n(458),Fe=n(218),Te=n.n(Fe),Ne=n(219),Ce=n.n(Ne),Ee=n(220),Pe=n.n(Ee),Ie=n(221),_e=n.n(Ie),De=n(462),Ae=n(459),ze=n(461),Be=n(460),Le=Object(be.a)((function(e){return{logoText:{fontFamily:"Poppins",fontSize:"30px",fontWeight:"bold",color:"#2d1674"},listText:{fontFamily:"Poppins",fontSize:"15px"},listEmail:{fontFamily:"Poppins",fontSize:"12px"},listItem:{fontFamily:"Poppins",fontSize:"15px",color:"#334D6E"},dialogTitle:{fontFamily:"Poppins",fontSize:"16px"}}})),Me=function(e){var t=Le(),n=function(){e.setOpen(!1)};return Object(a.jsx)("div",{children:Object(a.jsxs)(Ae.a,{open:e.open,onClose:n,"aria-labelledby":"alert-dialog-title",children:[Object(a.jsxs)(Be.a,{id:"alert-dialog-title",children:[" ",Object(a.jsx)("span",{className:t.dialogTitle,children:" \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 ? "})," "]}),Object(a.jsxs)(ze.a,{children:[Object(a.jsx)(De.a,{color:"secondary",onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(a.jsx)(De.a,{color:"primary",onClick:function(){e.logoutThunk()},children:"\u041e\u041a"})]})]})})},Re=function(e){var t=Le(),n=Object(je.g)(),c=Object(s.useState)(!1),r=Object(fe.a)(c,2),i=r[0],o=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"d-flex justify-content-center pt-2",children:Object(a.jsx)("div",{children:Object(a.jsxs)("span",{className:t.logoText,children:[Object(a.jsx)("span",{style:{color:"#109CF1"},children:"Q"}),"PSY"]})})}),Object(a.jsxs)(Oe.a,{dense:!0,style:{marginTop:"-5%"},children:[Object(a.jsx)("hr",{}),Object(a.jsxs)(ge.a,{children:[Object(a.jsx)(ve.a,{alt:"",style:{marginRight:"5%"}}),Object(a.jsx)(ye.a,{classes:{primary:t.listText,secondary:t.listEmail},primary:"".concat(e.user.first_name," ").concat(e.user.last_name),secondary:e.user.psy_code})]})]}),Object(a.jsxs)("div",{className:"mt-4",children:[Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsx)(l.b,{to:"/",style:{textDecoration:"none"},children:Object(a.jsxs)(ge.a,{button:!0,selected:"/"===n.pathname||n.pathname.includes("/chat"),children:[Object(a.jsx)(Se.a,{children:Object(a.jsx)(ke.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(ye.a,{primary:"\u0427\u0430\u0442\u044b",classes:{primary:t.listItem}})]})})}),Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsx)(l.b,{to:"/tape",style:{textDecoration:"none"},children:Object(a.jsxs)(ge.a,{button:!0,selected:n.pathname.includes("/tape"),children:[Object(a.jsx)(Se.a,{children:Object(a.jsx)(Te.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(ye.a,{primary:"\u041b\u0435\u043d\u0442\u0430",classes:{primary:t.listItem}})]})})}),Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsx)(l.b,{to:"/stat",style:{textDecoration:"none"},children:Object(a.jsxs)(ge.a,{button:!0,selected:n.pathname.includes("/stat"),children:[Object(a.jsx)(Se.a,{children:Object(a.jsx)(Ce.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(ye.a,{primary:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",classes:{primary:t.listItem}})]})})})]}),Object(a.jsxs)("div",{className:"mt-4",children:[Object(a.jsx)("hr",{}),Object(a.jsx)(l.b,{to:"/settings",style:{textDecoration:"none"},children:Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsxs)(ge.a,{button:!0,selected:n.pathname.includes("/settings"),children:[Object(a.jsx)(Se.a,{children:Object(a.jsx)(Pe.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(ye.a,{primary:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",classes:{primary:t.listItem}})]})})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("div",{onClick:function(){o(!0)},children:Object(a.jsxs)(ge.a,{button:!0,children:[Object(a.jsx)(Se.a,{children:Object(a.jsx)(_e.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(ye.a,{primary:"\u0412\u044b\u0439\u0442\u0438",classes:{primary:t.listItem}})]})})]}),Object(a.jsx)(Me,{open:i,setOpen:o,logoutThunk:e.logoutThunk})]})},We=Object(xe.a)((function(e){return{drawerPaper:Object(pe.a)({width:270,height:"100vh"},e.breakpoints.up("md"),{position:"relative"})}}),{withTheme:!0})((function(e){var t=e.classes;e.theme;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(he.a,{mdUp:!0,children:Object(a.jsx)(me.a,{variant:"temporary",anchor:"left",open:e.openSidebar,onClose:e.setToggleSidebar,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:Object(a.jsx)(Re,{logoutThunk:e.logoutThunk,user:e.user,isAdmin:e.isAdmin,isSuperPsy:e.isSuperPsy,isPsy:e.isPsy,setToggleSidebar:e.setToggleSidebar})})}),Object(a.jsx)(he.a,{smDown:!0,implementation:"css",children:Object(a.jsx)(me.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper},children:Object(a.jsx)(Re,{logoutThunk:e.logoutThunk,user:e.user,isAdmin:e.isAdmin,isSuperPsy:e.isSuperPsy,isPsy:e.isPsy})})})]})})),Ue=Object(u.b)((function(e){return{openSidebar:e.appPage.openSidebar,user:e.authPage.user,isAdmin:e.authPage.isAdmin,isSuperPsy:e.authPage.isSuperPsy,isPsy:e.authPage.isPsy}}),{setToggleSidebar:Y,logoutThunk:function(){return function(e){e({type:M})}}})((function(e){return Object(a.jsx)(We,{openSidebar:e.openSidebar,setToggleSidebar:e.setToggleSidebar,logoutThunk:e.logoutThunk,user:e.user,isAdmin:e.isAdmin,isSuperPsy:e.isSuperPsy,isPsy:e.isPsy})})),He=n(463),Ge=n(464),Ve=n(193),Ye=n(231),Je=n(466),qe=n(467),Ze=n(162),Qe=n.n(Ze),Xe=n(222),$e=n.n(Xe),Ke=n(223),et=n.n(Ke),tt=Object(be.a)((function(e){return{appBar:Object(pe.a)({position:"absolute",marginLeft:270},e.breakpoints.up("md"),{width:"calc(100% - ".concat(270,"px)")}),navIconHide:Object(pe.a)({},e.breakpoints.up("md"),{display:"none"}),searchInput:{boxShadow:"none",marginRight:"5%",width:"90%"},online:Object(pe.a)({background:"#109CF1",color:"#FFFFFF",width:"150px",fontSize:"14px","&:hover":{background:"#109CF1"}},"@media (min-width: 320px) and (max-width: 767px)",{width:"60px",fontSize:"10px"}),offline:Object(pe.a)({background:"#F7685B",color:"#FFFFFF",width:"150px",fontSize:"14px","&:hover":{background:"#F7685B"}},"@media (min-width: 320px) and (max-width: 767px)",{width:"60px",fontSize:"10px"}),menuItem:Object(pe.a)({width:"150px",justifyContent:"center",margin:"2px",borderRadius:"5px",fontSize:"14px",color:"#FFFFFF"},"@media (min-width: 320px) and (max-width: 767px)",{width:"60px",fontSize:"10px"})}})),nt=function(e){var t=tt(),n=Object(je.g)(),r=function(e){console.log(e)},i=Object(s.useState)(""),o=Object(fe.a)(i,2),l=o[0],u=o[1],d=Object(s.useState)(""),j=Object(fe.a)(d,2),b=j[0],p=j[1],h=c.a.useState(null),m=Object(fe.a)(h,2),x=m[0],f=m[1],O=function(t){f(null),1===t?"online"!==e.user.status&&(e.updateStatusThunk(),console.log("ONLINE")):-1===t&&"offline"!==e.user.status&&(e.updateStatusThunk(),console.log("OFFLINE"))};return Object(a.jsx)(He.a,{className:t.appBar,children:Object(a.jsxs)(Ge.a,{style:{backgroundColor:"#FFFFFF"},children:[Object(a.jsx)(Ve.a,{color:"primary","aria-label":"Open drawer",onClick:e.setToggleSidebar,className:t.navIconHide,children:Object(a.jsx)($e.a,{})}),n.pathname.includes("/chat/")&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Qe.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439...",value:b,onChange:function(e){return p(e)},onRequestSearch:function(){return r(b)},className:t.searchInput})}),"/"===n.pathname&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qe.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439...",value:l,onChange:function(e){return u(e)},onRequestSearch:function(){return r(l)},className:t.searchInput}),Object(a.jsxs)("div",{style:{marginRight:"4%",color:"black"},children:[Object(a.jsx)(De.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},className:"online"===e.user.status?t.online:t.offline,children:"online"===e.user.status?Object(a.jsx)("span",{children:"ONLINE"}):Object(a.jsx)("span",{children:"OFFLINE"})}),Object(a.jsxs)(Ye.a,{id:"simple-menu",anchorEl:x,keepMounted:!0,open:Boolean(x),onClose:function(){return O(0)},children:[Object(a.jsx)(Je.a,{onClick:function(){return O(1)},className:t.menuItem,style:{backgroundColor:"#109CF1"},children:" ONLINE "}),Object(a.jsx)(Je.a,{onClick:function(){return O(-1)},className:t.menuItem,style:{backgroundColor:"#F7685B"},children:" OFFLINE "})]})]})]}),!n.pathname.includes("/chat/")&&"/"!==n.pathname&&Object(a.jsx)("div",{className:t.searchInput,children:" "}),Object(a.jsx)(qe.a,{color:"secondary",variant:"dot",children:Object(a.jsx)(et.a,{style:{color:"#C2CFE0"}})})]})})},at=Object(u.b)((function(e){return{user:e.authPage.user}}),{setToggleSidebar:Y,updateStatusThunk:function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:e.sent,t(W()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(nt,{setToggleSidebar:e.setToggleSidebar,updateStatusThunk:e.updateStatusThunk,user:e.user})})),st=n(38),ct=n.n(st),rt=n(224),it=n.n(rt),ot=Object(be.a)((function(e){return{root:{background:"#FFFFFF",borderRadius:"1%",padding:"1%",marginBottom:"1%"},root2:{background:"#FFFFFF",width:"60%",padding:"1%"},buttonPer:{color:"white",fontFamily:"Poppins",fontSize:"80%",marginTop:"7%"},large:{width:e.spacing(7),height:e.spacing(7),backgroundColor:"black",color:"white"},userName:{fontFamily:"Poppins",fontSize:"18px"},userText:{fontFamily:"Poppins",fontSize:"15px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},dialogTitle:{fontFamily:"Poppins",fontSize:"24px",fontWeight:"bold"},buttonNo:{color:"#FFFFFF",width:"35%"},buttonYes:{color:"#FFFFFF",width:"35%"},dialogApp:{padding:"5%"}}})),lt=function(e){var t=ot();return Object(a.jsxs)(Ae.a,{open:e.open,onClose:function(){e.setOpen(!1)},fullWidth:!0,children:[Object(a.jsxs)(Be.a,{id:"alert-dialog-title",style:{textAlign:"center",margin:"9%"},children:[" ",Object(a.jsxs)("span",{className:t.dialogTitle,children:[" \u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u041a\u0435\u043d ",Object(a.jsx)("br",{})," \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443 ? "]})," "]}),Object(a.jsxs)(ze.a,{style:{justifyContent:"center",marginBottom:"5%"},children:[Object(a.jsx)(De.a,{className:t.buttonYes,style:{backgroundColor:" #098EDF"},children:"\u0414\u0410"}),Object(a.jsx)(De.a,{className:t.buttonNo,style:{backgroundColor:"#C4C4C4"},children:"\u041d\u0415\u0422"})]})]})},ut=function(e){var t=ot(),n=Object(s.useState)(!1),c=Object(fe.a)(n,2),r=c[0],i=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("div",{className:t.root2,children:Object(a.jsx)(l.b,{to:"/chat/"+e.id,style:{textDecoration:"none"},children:Object(a.jsx)(Oe.a,{dense:!0,children:Object(a.jsxs)(ge.a,{children:[Object(a.jsxs)(ve.a,{style:{marginRight:"3%"},className:t.large,children:[" ",e.name[0]," "]}),Object(a.jsx)(ye.a,{classes:{primary:t.userName,secondary:t.userText},primary:e.name,secondary:e.last_message})]})})})}),Object(a.jsx)("div",{className:"d-flex align-items-center mr-3",children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)(qe.a,{color:"secondary",overlap:"circle",badgeContent:"+".concat(e.unread),children:Object(a.jsx)(it.a,{style:{color:"#109CF1"},fontSize:"large"})}),Object(a.jsx)("div",{children:Object(a.jsx)(De.a,{style:{backgroundColor:"#F7685B"},onClick:function(){i(!0)},className:t.buttonPer,children:" \u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c "})})]})})]})}),Object(a.jsx)(lt,{open:r,setOpen:i})]})},dt=n(225),jt=n.p+"static/media/loading2.0266ecf4.svg",bt=Object(be.a)((function(e){return{main:Object(pe.a)({flexGrow:1,backgroundColor:"#E5E5E5",padding:3*e.spacing(3)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar}})),pt=function(e){var t=bt(),n=Object(s.useState)(!0),c=Object(fe.a)(n,2),r=c[0];c[1];return Object(a.jsxs)("main",{className:t.main,children:[Object(a.jsx)("div",{className:t.toolBar}),Object(a.jsx)("div",{id:"scrollableDiv",style:{height:"75vh",overflow:"auto"},children:Object(a.jsx)(dt.a,{dataLength:e.users.length,hasMore:r,loader:Object(a.jsxs)("div",{className:"text-center",children:[" ",Object(a.jsx)("img",{src:jt})," "]}),scrollableTarget:"scrollableDiv",endMessage:Object(a.jsx)("p",{children:" that's all "}),children:e.users.map((function(e,t){return Object(a.jsx)(ut,{id:e.id,name:e.name,unread:e.unread,last_message:e.last_message})}))})})]})},ht=function(e){Object(ue.a)(n,e);var t=Object(de.a)(n);function n(){var e;Object(oe.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).intervalID=1975,e}return Object(le.a)(n,[{key:"fetchChats",value:function(){this.intervalID=setInterval((function(){console.log("fetch chats")}),3e3)}},{key:"componentDidMount",value:function(){this.props.getChatsThunk(),this.fetchChats()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return Object(a.jsx)(pt,{users:this.props.users})}}]),n}(c.a.Component),mt=Object(u.b)((function(e){return{users:e.usersPage.users,user:e.authPage.user}}),{getChatsThunk:function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:n=e.sent,t((a=n.chats,{type:q,users:a})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(ht),xt=n(194),ft=n(468),Ot=n(469),gt=n(470),vt=n(226),yt=n.n(vt),wt=n(127),kt=n.n(wt),St=n(128),Ft=n.n(St),Tt=Object(be.a)((function(e){return{input:Object(pe.a)({flex:"1 1 0%",padding:"1%",backgroundColor:"white"},e.breakpoints.down("sm"),{padding:"2%"})}})),Nt=function(e){var t=Object(s.useState)(""),n=Object(fe.a)(t,2),c=n[0],r=n[1],i=Tt(),o=function(){e.sendMessageThunk(e.chatID,c),r("")};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xt.a,{placeholder:"Write a message",value:c,onChange:function(e){return r(e.target.value)},type:"text",margin:"normal",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),o())},className:i.input,startAdornment:Object(a.jsx)(ft.a,{position:"start",children:Object(a.jsx)(kt.a,{style:{color:"#90A0B7",cursor:"pointer"}})}),endAdornment:Object(a.jsx)(ft.a,{position:"end",children:Object(a.jsx)(Ft.a,{style:{color:"#90A0B7",cursor:"pointer"}})})}),Object(a.jsx)(Ot.a,{color:"primary",size:"medium",onClick:o,style:{marginLeft:"1%"},"aria-label":"send",children:Object(a.jsx)(yt.a,{})})]})},Ct=function(e){return Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsx)(gt.a,{container:!0,spacing:0,justify:"center",alignItems:"center",children:Object(a.jsx)(Nt,{sendMessageThunk:e.sendMessageThunk,chatID:e.chatID})})})},Et=n(88),Pt=Object(be.a)((function(e){var t;return{content:{backgroundColor:"#FFFFFF",border:"1px solid white",marginTop:"0.3%",padding:"2%",height:"calc(100% - 30%)",boxSizing:"border-box",flex:1,position:"relative",overflowX:"hidden",overflowY:"auto"},conversation:(t={boxSizing:"border-box",width:"100%",marginBottom:2*e.spacing(1)},Object(pe.a)(t,e.breakpoints.down("sm"),{padding:"0 ".concat(1*e.spacing(1),"px")}),Object(pe.a)(t,e.breakpoints.up("sm"),{padding:"0 ".concat(3*e.spacing(1),"px")}),Object(pe.a)(t,"display","flex"),t),conversationSent:{justifyContent:"flex-end"},body:{position:"relative",padding:".625rem 1rem",backgroundColor:"#1F7BB3",borderRadius:"3px",boxShadow:e.shadows[1]},bodyReceived:{"&::after":{position:"absolute",top:0,width:0,height:0,content:'""',border:"5px solid #1F7BB3",borderBottomColor:"transparent",left:"-7px",borderLeftColor:"transparent"}},bodySent:{position:"relative",backgroundColor:"#109CF1",float:"right",order:1,"&::after":{position:"absolute",bottom:0,width:0,height:0,content:'""',border:"5px solid #109CF1",borderTopColor:"transparent",borderRightColor:"transparent",right:"-7px"}},messageChat:{color:"white",fontFamily:"Poppins",fontSize:"100%"},date:{display:"block",fontSize:"10px",paddingTop:"2px",fontFamily:"Poppins",fontWeight:"600",color:e.palette.primary.contrastText},dateSent:{textAlign:"right"}}})),It=function(e){var t=Pt(),n=function(e){var t=new Date(Date.parse(e));return t.getHours()+":"+t.getMinutes()};return Object(a.jsx)("div",{className:t.content,children:e.messages.map((function(e,s){return Object(a.jsx)("div",{className:ct()(t.conversation,"RECEIVED"===e.status?t.conversationSent:t.conversationReceived),children:Object(a.jsxs)("div",{className:ct()(t.body,"RECEIVED"===e.status?t.bodySent:t.bodyReceived),children:[Object(a.jsxs)(Et.a,{className:t.messageChat,children:[" ",e.text," "]}),Object(a.jsx)(Et.a,{variant:"caption",className:ct()(t.date,"RECEIVED"===e.status?t.dateSent:t.dateReceived),children:n(e.timestamp)})]})},s)}))})},_t=function(e){Object(ue.a)(n,e);var t=Object(de.a)(n);function n(){var e;Object(oe.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).intervalID=24102e3,e}return Object(le.a)(n,[{key:"fetchMessages",value:function(){var e=this;this.intervalID=setInterval((function(){console.log("fetching messages"),e.props.getUserMessagesThunk(e.props.chatID)}),2e3)}},{key:"componentDidMount",value:function(){this.props.getUserMessagesThunk(this.props.chatID),this.fetchMessages()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return Object(a.jsx)(It,{messages:this.props.messages})}}]),n}(c.a.Component),Dt=Object(u.b)((function(e){return{messages:e.usersPage.messages}}),{getUserMessagesThunk:$})(_t),At=Object(be.a)((function(e){return{headerChat:Object(pe.a)({padding:"2%",backgroundColor:"#FFFFFF",fontFamily:"Poppins",fontSize:"100%",color:"#323C47"},e.breakpoints.down("sm"),{padding:"4%"})}})),zt=Object(u.b)((function(e){return{clientName:e.usersPage.clientName}}))((function(e){var t=At();return Object(a.jsx)("div",{className:t.headerChat,children:e.clientName})})),Bt=Object(be.a)((function(e){return{main:Object(pe.a)({flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing(3)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar}})),Lt=Object(je.h)((function(e){var t=Bt();return Object(a.jsxs)("main",{className:t.main,children:[Object(a.jsx)("div",{className:t.toolBar}),Object(a.jsx)(zt,{}),Object(a.jsx)(Dt,{chatID:e.match.params.id}),Object(a.jsx)(Ct,{chatID:e.match.params.id,sendMessageThunk:e.sendMessageThunk})]})})),Mt=Object(u.b)((function(e){return{}}),{sendMessageThunk:function(e,t){return function(){var n=Object(x.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E(e,t);case 3:a($(e)),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(Lt,{sendMessageThunk:e.sendMessageThunk})})),Rt=n(207),Wt=n(208),Ut=n(475),Ht=n(471),Gt=n(482),Vt=n(472),Yt=n(478),Jt=n(227),qt=n.n(Jt),Zt=n(228),Qt=n.n(Zt),Xt=n(229),$t=n.n(Xt),Kt=(Object(be.a)((function(e){return{input:Object(pe.a)({flex:"1 1 0%",padding:"1%",backgroundColor:"white"},e.breakpoints.down("sm"),{padding:"2%"})}})),function(e){var t=e.label,n=e.input,s=e.disabled,c=e.defaultValue,r=e.meta,i=r.touched,o=r.invalid,l=r.error;return Object(a.jsx)(Ut.a,Object(p.a)({disabled:s,defaultValue:c,label:t,placeholder:t,type:"text",margin:"normal",error:i&&o,helperText:i&&l,fullWidth:!0},n))}),en=function(e){var t=e.input;return Object(a.jsx)(Yt.a,Object(p.a)({style:{color:"#098EDF"}},t))},tn=function(e){var t=e.label,n=e.input,s=e.meta,r=s.touched,i=s.invalid,o=s.error,l=c.a.useState({showPassword:!1}),u=Object(fe.a)(l,2),d=u[0],j=u[1];return Object(a.jsxs)(Ht.a,{fullWidth:!0,error:r&&o,children:[Object(a.jsxs)(Gt.a,{children:[" ",t," "]}),Object(a.jsx)(xt.a,Object(p.a)({fullWidth:!0,error:r&&i,helperText:r&&o,type:d.showPassword?"text":"password",endAdornment:Object(a.jsx)(ft.a,{position:"end",children:Object(a.jsx)(Ve.a,{"aria-label":"toggle password visibility",onClick:function(){j(Object(p.a)(Object(p.a)({},d),{},{showPassword:!d.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:d.showPassword?Object(a.jsx)(qt.a,{}):Object(a.jsx)(Qt.a,{})})})},n)),r&&o&&Object(a.jsxs)(Vt.a,{id:"component-error-text",children:[" ",o," "]})]})},nn=function(e){var t=e.label,n=e.disabled,s=e.defaultValue;return Object(a.jsx)(Ut.a,{disabled:n,defaultValue:s,label:t,placeholder:t,type:"text",margin:"normal",fullWidth:!0})},an=function(e){var t=e.label,n=e.disabled,s=e.object;return Object(a.jsx)(Ut.a,{fullWidth:!0,disabled:n,defaultValue:s,label:t,InputProps:{endAdornment:Object(a.jsxs)(Ve.a,{children:[" ",Object(a.jsx)($t.a,{style:{color:"#109CF1"}}),"  "]})}})},sn=n(230),cn=n.n(sn),rn=n(479),on=n(476),ln=n(130),un=n.n(ln);function dn(e){return Object(a.jsx)(on.a,Object(p.a)({elevation:6,variant:"filled"},e))}var jn=Object(be.a)((function(e){return{root:{width:"300px","& > * + *":{marginTop:e.spacing(2)}}}})),bn=function(e){var t=jn(),n=function(t,n){"clickaway"!==n&&e.setOpen(!1)};return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(rn.a,{open:e.open,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(a.jsx)(dn,{onClose:n,severity:"success",children:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0432\u0430\u0448 email \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0451\u043d !"})})})},pn=function(e){var t=Object(s.useState)(!0),n=Object(fe.a)(t,2),r=n[0],i=n[1],o=Object(s.useState)(e.email),l=Object(fe.a)(o,2),u=l[0],d=l[1],j=c.a.useState(!1),b=Object(fe.a)(j,2),p=b[0],h=b[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ut.a,{fullWidth:!0,label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u0443 ",disabled:r,defaultValue:u,onChange:function(e){return d(e.target.value)},onBlur:function(){i(!0),e.updateEmail(u),h(!0)},InputProps:{endAdornment:Object(a.jsxs)(Ve.a,{onClick:function(){i(!1)},children:[" ",Object(a.jsx)(un.a,{style:{color:"#109CF1"}})," "]})}}),p&&Object(a.jsx)(bn,{open:p,setOpen:h})]})},hn=Object(be.a)((function(e){return{large:{width:e.spacing(18),height:e.spacing(18)},fab:{color:"#334D6E",background:"#FFFFFF"}}})),mn=function(){var e=hn();return Object(a.jsx)("div",{children:Object(a.jsx)(qe.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(a.jsxs)(Ot.a,{className:e.fab,"aria-label":"edit",children:[" ",Object(a.jsx)(un.a,{})," "]}),children:Object(a.jsx)(ve.a,{alt:"Travis Howard",className:e.large})})})},xn=Object(Wt.a)({form:"settings"})((function(e){return Object(a.jsx)("form",{onSubmit:e.handleSubmit,children:Object(a.jsxs)("div",{className:"container ".concat(cn.a.content),children:[Object(a.jsxs)("div",{className:"row flex-column-reverse flex-md-row",children:[Object(a.jsx)("div",{className:"col-md-5 align-self-end",children:Object(a.jsx)("div",{children:Object(a.jsx)(Rt.a,{name:"name",label:"\u0418\u043c\u044f",disabled:!0,defaultValue:e.user.first_name,component:nn})})}),Object(a.jsx)("div",{className:"col-md-1"}),Object(a.jsx)("div",{className:"col-md-6 text-center mb-5",children:Object(a.jsx)(mn,{})})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-md-5 mt-5",children:Object(a.jsx)("div",{children:Object(a.jsx)(Rt.a,{name:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",disabled:!0,defaultValue:e.user.last_name,component:nn})})}),Object(a.jsx)("div",{className:"col-md-1"}),Object(a.jsx)("div",{className:"col-md-6 mt-5",children:Object(a.jsx)("div",{children:Object(a.jsx)(Rt.a,{name:"city",label:"\u0413\u043e\u0440\u043e\u0434",disabled:!0,object:e.user.city_name,component:an})})}),Object(a.jsx)("div",{className:"col-md-5 mt-5",children:Object(a.jsx)(pn,{updateEmail:e.updateEmail,email:e.user.email})}),Object(a.jsx)("div",{className:"col-md-1"}),Object(a.jsx)("div",{className:"col-md-6 mt-5",children:Object(a.jsx)("div",{children:Object(a.jsx)(Rt.a,{name:"school",label:"\u0428\u043a\u043e\u043b\u0430",disabled:!0,object:e.user.school_name,component:an})})})]})]})})})),fn=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(xn,{updateEmail:e.updateEmail,user:e.user})})},On=Object(be.a)((function(e){return{main:Object(pe.a)({flexGrow:1,backgroundColor:"#E5E5E5",paddingLeft:3*e.spacing(3),paddingRight:3*e.spacing(3),paddingTop:3*e.spacing(1.3),paddingBottom:3*e.spacing(.2)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar,head:Object(pe.a)({backgroundColor:"#FFFFFF",padding:"1% 2% 1% 2%",marginBottom:"5px",borderRadius:"5px 5px 0px 0px"},"@media (min-width: 320px) and (max-width: 767px)",{padding:"3% 2% 3% 2%"}),settingTitle:{fontFamily:"Poppins",fontSize:"15px",color:"#334D6E"},content:Object(pe.a)({height:"calc(100% - 10%)",overflowX:"hidden",overflowY:"auto",boxSizing:"border-box",flex:1,position:"relative"},"@media (min-width: 320px) and (max-width: 767px)",{padding:"1% 0% 10% 0%"})}})),gn=function(e){var t=On();return Object(a.jsxs)("main",{className:t.main,children:[Object(a.jsx)("div",{className:t.toolBar}),Object(a.jsxs)("div",{className:"d-flex justify-content-between align-items-center container ".concat(t.head),children:[Object(a.jsx)("div",{className:t.settingTitle,children:Object(a.jsx)("span",{children:" \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 "})}),Object(a.jsx)("div",{className:t.button})]}),Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)(fn,{updateEmail:e.updateEmail,user:e.user})})]})},vn=function(e){Object(ue.a)(n,e);var t=Object(de.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(le.a)(n,[{key:"render",value:function(){return Object(a.jsx)(gn,{user:this.props.user,updateEmail:this.props.updateEmail})}}]),n}(c.a.Component),yn=Object(u.b)((function(e){return{user:e.authPage.user}}),{updateEmail:function(e){return function(){var t=Object(x.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(e);case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})(vn),wn=n.p+"static/media/download.82066a07.svg",kn=n(103),Sn=n.n(kn),Fn=function(){return Object(a.jsxs)("div",{className:Sn.a.root,children:[Object(a.jsx)("div",{className:Sn.a.titleTape,children:Object(a.jsx)("span",{children:" \u0421\u0442\u0430\u0442\u044c\u044f 2 "})}),Object(a.jsx)("div",{className:Sn.a.textTape,children:Object(a.jsx)("span",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."})}),Object(a.jsxs)("div",{className:Sn.a.imageTape,children:[Object(a.jsx)("img",{src:wn,alt:""}),Object(a.jsx)("span",{style:{marginLeft:"2%"},children:" Lorem input.txt "})]})]})},Tn=Object(be.a)((function(e){return{main:Object(pe.a)({flexGrow:1,backgroundColor:"#E5E5E5",paddingLeft:3*e.spacing(4),paddingRight:3*e.spacing(4),paddingTop:3*e.spacing(1),paddingBottom:3*e.spacing(.2)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar,tapeItem:{height:"calc(100% - 10%)",overflowX:"hidden",overflowY:"auto",boxSizing:"border-box",flex:1,position:"relative"}}})),Nn=function(e){var t=Tn(),n=e.tapes.map((function(e){return Object(a.jsx)(Fn,{})}));return Object(a.jsxs)("main",{className:t.main,children:[Object(a.jsx)("div",{className:t.toolBar}),e.fetchTapes?Object(a.jsx)("div",{className:"d-flex justify-content-center",children:Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:jt})})}):Object(a.jsx)("div",{className:t.tapeItem,children:n})]})},Cn=function(e){Object(ue.a)(n,e);var t=Object(de.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(le.a)(n,[{key:"componentDidMount",value:function(){this.props.getTapesThunk()}},{key:"render",value:function(){return Object(a.jsx)(Nn,{tapes:this.props.tapes,fetchTapes:this.props.fetchTapes,level:this.props.level})}}]),n}(c.a.Component),En=Object(u.b)((function(e){return{tapes:e.tapePage.tapes,fetchTapes:e.tapePage.fetchTapes,level:e.authPage.user.level}}),{getTapesThunk:function(){return function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ae(!0)),e.next=3,P();case 3:n=e.sent,console.log(n),t(ae(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Cn),Pn=Object(be.a)((function(e){return{root:{flexGrow:1,height:"100vh",zIndex:1,overflow:"hidden",position:"relative",display:"flex",backgroundColor:"#E5E5E5"}}})),In=Object(d.d)((function(e){return Object(u.b)((function(e){return{isAuth:e.authPage.isAuth}}))((function(t){return t.isAuth?Object(a.jsx)(e,Object(p.a)({},t)):Object(a.jsx)(je.a,{to:"/login"})}))}),Object(u.b)((function(e){return{user:e.authPage.user}}),{}))((function(e){var t=Pn();return e.user?Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(at,{}),Object(a.jsx)(Ue,{}),Object(a.jsx)(je.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(mt,{})}}),Object(a.jsx)(je.b,{exact:!0,path:"/chat/:id/",render:function(){return Object(a.jsx)(Mt,{})}}),Object(a.jsx)(je.b,{exact:!0,path:"/settings",render:function(){return Object(a.jsx)(yn,{})}}),Object(a.jsx)(je.b,{exact:!0,path:"/tape",render:function(){return Object(a.jsx)(En,{})}})]}):Object(a.jsx)("div",{})})),_n=n.p+"static/media/successLogo.693b0fb4.svg",Dn=n(473),An=n(474),zn=Object(be.a)((function(e){return{titleSuc:{fontFamily:"Poppins",color:"#4C5862",fontSize:"20px"},buttonSuc:{fontSize:"14px",color:"#FFFFFF",height:"32px",width:"120px",fontFamily:"Poppins"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"}}})),Bn=function(){var e=zn();return Object(a.jsx)("div",{className:ct()(e.session,e.background),children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsxs)(Dn.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:e.logoT2,children:[Object(a.jsx)("span",{className:e.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(An.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"mb-2",children:Object(a.jsx)("img",{src:_n})}),Object(a.jsx)("div",{className:"mb-3",children:Object(a.jsx)("span",{className:e.titleSuc,children:" \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d! "})}),Object(a.jsx)(l.b,{to:"/login",style:{textDecoration:"none"},children:Object(a.jsx)(De.a,{variant:"contained",style:{backgroundColor:"#098EDF"},className:e.buttonSuc,children:" \u0412\u043e\u0439\u0442\u0438 "})})]})})]})})})})},Ln=function(e){if(!e)return"\u041f\u043e\u043b\u0435, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},Mn=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 (@)":e?void 0:"\u041f\u043e\u043b\u0435, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},Rn=function(e,t){return function(n){return n.length>t?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(t," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):n.length<e?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}},Wn=function(e){if(null===/^(?=.*[a-zA-Z]).{1,}$/.exec(e))return"\u0425\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0430 \u0431\u0443\u043a\u0432\u0430"},Un=Object(be.a)((function(e){return{rememberMe:{fontFamily:"Poppins",fontSize:"13px",color:"#4C5862"},forgotPassword:{fontFamily:"Poppins",fontSize:"13px",color:"#109CF1",fontWeight:"bold"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"},errorText:{fontFamily:"Poppins",color:"red",padding:"1% 0 1% 0",fontSize:"14px",marginBottom:"4%"}}})),Hn=Rn(5,50),Gn=Object(Wt.a)({form:"login"})((function(e){var t=Un();return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(a.jsx)("div",{className:t.errorText,children:e.error}),Object(a.jsx)("div",{children:Object(a.jsx)(Rt.a,{name:"email",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",component:Kt,validate:[Mn,Hn]})}),Object(a.jsx)("div",{className:"mt-5 mb-4",children:Object(a.jsx)(Rt.a,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",component:tn,validate:[Ln,Hn]})}),Object(a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Rt.a,{name:"remember_me",component:en,type:"checkbox"})," ",Object(a.jsx)("span",{className:t.rememberMe,children:" \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c "})]}),Object(a.jsx)("div",{children:Object(a.jsx)(De.a,{variant:"contained",type:"submit",style:{backgroundColor:"#098EDF",color:"#FFFFFF",width:"120px",height:"30px"},children:" \u0412\u043e\u0439\u0442\u0438 "})})]}),Object(a.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(a.jsx)(l.b,{to:"/email_recovery",style:{textDecoration:"none"},children:Object(a.jsx)("span",{className:t.forgotPassword,children:" \u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? "})})})]})})),Vn=function(e){var t=Un();return e.isAuth?Object(a.jsx)(je.a,{to:"/"}):Object(a.jsx)("div",{className:ct()(t.session,t.background),children:Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsxs)(Dn.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:t.logoT2,children:[Object(a.jsx)("span",{className:t.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(An.a,{children:Object(a.jsx)(Gn,{onSubmit:function(t){var n=!!t.remember_me;e.loginThunk(t.email,t.password,n)}})})]})})})})},Yn=Object(u.b)((function(e){return{isAuth:e.authPage.isAuth}}),{loginThunk:function(e,t,n){return function(){var a=Object(x.a)(m.a.mark((function a(s){var c,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y(e,t);case 3:c=a.sent,r=n?7:1,O.a.set("access",c.access,{expires:r}),s({type:I,payload:c}),s(W()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),s(Object(g.b)("login",{_error:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})),s({type:_});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(Vn,{loginThunk:e.loginThunk,isAuth:e.isAuth})})),Jn=Object(u.b)(null,{loadUserThunk:W})((function(e){return Object(s.useEffect)((function(){(function(){var e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)(a.Fragment,{children:e.children})})),qn=Object(be.a)((function(e){return{root:{fontFamily:"Poppins"},titleEmail:{color:"#4C5862",fontSize:"14px"},buttonEmail:{fontSize:"14px",color:"#FFFFFF",height:"30px",fontFamily:"Poppins"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"}}})),Zn=Rn(5,50),Qn=Object(Wt.a)({form:"email_recovery"})((function(e){var t=qn();return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{className:"my-4",children:Object(a.jsx)(Rt.a,{name:"email",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",component:Kt,validate:[Mn,Zn]})}),Object(a.jsx)("div",{className:"d-flex justify-content-end",children:Object(a.jsx)(De.a,{variant:"contained",type:"submit",className:t.buttonEmail,style:{backgroundColor:"#098EDF"},children:" \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "})})]})})),Xn=function(e){var t=qn();return Object(a.jsx)("div",{className:ct()(t.session,t.background),children:Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsxs)(Dn.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:t.logoT2,children:[Object(a.jsx)("span",{className:t.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(An.a,{children:Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:"d-flex justify-content-start",children:Object(a.jsx)("span",{className:t.titleEmail,children:" \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443. "})}),Object(a.jsx)("div",{children:Object(a.jsx)(Qn,{onSubmit:function(t){e.resetPasswordThunk(t.email)}})})]})})]})})})})},$n=Object(u.b)((function(e){return{}}),{resetPasswordThunk:function(e){return function(){var t=Object(x.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:n(Object(g.a)("email_recovery")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(Xn,{resetPasswordThunk:e.resetPasswordThunk})})),Kn=Object(be.a)((function(e){return{titlePas:{fontFamily:"Poppins",color:"#4C5862",fontSize:"14px"},buttonPass:{fontSize:"14px",color:"#FFFFFF",height:"32px",fontFamily:"Poppins"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"},errorText:{fontFamily:"Poppins",fontSize:"14px",color:"red",marginBottom:"5%"}}})),ea=Rn(5,50),ta=Object(Wt.a)({form:"password_recovery"})((function(e){var t=Kn();return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(a.jsx)("div",{className:t.errorText,children:e.error}),Object(a.jsx)("div",{className:"d-flex justify-content-start",children:Object(a.jsx)("span",{className:t.titlePas,children:" \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f "})}),Object(a.jsx)("div",{className:"my-3",children:Object(a.jsx)(Rt.a,{name:"new_password",label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",component:tn,validate:[Ln,ea,Wn]})}),Object(a.jsx)("div",{className:"my-4",children:Object(a.jsx)(Rt.a,{name:"re_new_password",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",component:tn,validate:[Ln,ea,Wn]})}),Object(a.jsx)("div",{className:"d-flex justify-content-end",children:Object(a.jsx)(De.a,{variant:"contained",type:"submit",style:{backgroundColor:"#098EDF"},className:t.buttonPass,children:" \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c "})})]})})),na=function(e){var t=Kn();if(e.confirmSuccess)return Object(a.jsx)(je.a,{to:"/success"});console.log(e.confirmSuccess);return Object(a.jsx)("div",{className:ct()(t.session,t.background),children:Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsxs)(Dn.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:t.logoT2,children:[Object(a.jsx)("span",{className:t.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(An.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsx)(ta,{onSubmit:function(t){e.resetConfirmThunk(e.uid,e.token,t.new_password,t.re_new_password)}})})})})]})})})})},aa=Object(d.d)(je.h,Object(u.b)((function(e){return{confirmSuccess:e.authPage.confirmSuccess}}),{resetConfirmThunk:function(e,t,n,a){return function(){var s=Object(x.a)(m.a.mark((function s(c){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n!==a){s.next=12;break}return s.prev=1,s.next=4,S(e,t,n);case 4:c({type:L,confirmSuccess:!0}),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(1),console.log(s.t0);case 10:s.next=13;break;case 12:c(Object(g.b)("password_recovery",{_error:" \u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435."}));case 13:case"end":return s.stop()}}),s,null,[[1,7]])})));return function(e){return s.apply(this,arguments)}}()}}))((function(e){var t=e.match.params.uid,n=e.match.params.token;return Object(a.jsx)(na,{uid:t,token:n,resetConfirmThunk:e.resetConfirmThunk,confirmSuccess:e.confirmSuccess})})),sa=n.p+"static/media/loading.f1079789.svg",ca=(n(418),function(e){Object(ue.a)(n,e);var t=Object(de.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(le.a)(n,[{key:"componentDidMount",value:function(){this.props.initSuccessThunk()}},{key:"render",value:function(){return this.props.initialized?Object(a.jsx)(Jn,{children:Object(a.jsxs)(je.d,{children:[Object(a.jsx)(je.b,{exact:!0,path:"/login",render:function(){return Object(a.jsx)(Yn,{})}}),Object(a.jsx)(je.b,{exact:!0,path:"/email_recovery",render:function(){return Object(a.jsx)($n,{})}}),Object(a.jsx)(je.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",render:function(){return Object(a.jsx)(aa,{})}}),Object(a.jsx)(je.b,{exact:!0,path:"/success",render:function(){return Object(a.jsx)(Bn,{})}}),Object(a.jsx)(In,{})]})}):Object(a.jsx)("div",{style:{height:"100vh"},className:"d-flex justify-content-center align-items-center",children:Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:sa})})})}}]),n}(c.a.Component)),ra=Object(u.b)((function(e){return{initialized:e.appPage.initialized}}),{initSuccessThunk:function(){return function(e){var t=e(function(){var e=Object(x.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.get("access")?t({type:z}):t({type:B});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=e(W());Promise.all([t,n]).then((function(){e({type:G})}))}}})(ca);i.a.render(Object(a.jsx)(l.a,{basename:"/qpsy-app",children:Object(a.jsx)(u.a,{store:ie,children:Object(a.jsx)(ra,{})})}),document.getElementById("root")),o()}},[[419,1,2]]]);
//# sourceMappingURL=main.d85b7394.chunk.js.map