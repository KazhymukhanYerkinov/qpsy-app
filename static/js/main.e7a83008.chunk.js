(this["webpackJsonpqpsy-app"]=this["webpackJsonpqpsy-app"]||[]).push([[0],{265:function(e,t,n){},410:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),r=n.n(s),c=n(15),i=n.n(c),o=(n(265),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,468)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))}),l=n(24),u=n(13),d=n(18),j=n(208),b=n(206),p=n(12),h=n(23),x=n.n(h),m=n(42),O=n(59),f=n.n(O),g=n(57),v=n(209).create({baseURL:"https://qpsy.herokuapp.com/"});v.interceptors.request.use((function(e){return f.a.get("access")?(e.headers.Authorization="JWT ".concat(f.a.get("access")),e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e):(e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e)}));var y=function(e,t){var n=JSON.stringify({email:e,password:t});return v.post("api/auth/jwt/create",n).then((function(e){return e.data}))},S=function(){return v.get("api/auth/users/me").then((function(e){return e.data}))},k=function(e){var t=JSON.stringify({email:e});return v.post("api/auth/users/reset_password/",t).then((function(e){return e.data}))},w=function(e,t,n){var a=JSON.stringify({uid:e,token:t,new_password:n});return v.post("api/auth/users/reset_password_confirm/",a).then((function(e){return e.data}))},F=function(){return v.get("api/v1/chat/chats").then((function(e){return e.data}))},T=function(e){return v.get("api/v1/chat/messages?clientID=".concat(e)).then((function(e){return e.data}))},C=function(e,t){var n=JSON.stringify({clientID:e,text:t});return v.post("api/v1/chat/send-message",n).then((function(e){return e}))},N="LOGIN_SUCCESS",P="LOGIN_FAIL",E="LOAD_USER_SUCCESS",D="LOAD_USER_FAIL",I="AUTHENTICATED_SUCCESS",A="AUTHENTICATED_FAIL",_="PASSWORD_RESET_CONFIRM_SUCCESS",z="LOGOUT",M={access:f.a.get("access"),isAuth:!1,user:{},confirmSuccess:!1,isAdmin:"\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433",isSuperPsy:"\u0421\u0443\u043f\u0435\u0440\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433",isPsy:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},B=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.a.get("access")){e.next=14;break}return e.prev=1,e.next=4,S();case 4:n=e.sent,console.log(n),t({type:E,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:D});case 12:e.next=15;break;case 14:t({type:D});case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case N:return Object(p.a)(Object(p.a)({},e),{},{isAuth:!0,access:a.access});case E:return Object(p.a)(Object(p.a)({},e),{},{user:a});case I:return Object(p.a)(Object(p.a)({},e),{},{isAuth:!0});case _:return Object(p.a)(Object(p.a)({},e),{},{confirmSuccess:t.confirmSuccess});case A:return Object(p.a)(Object(p.a)({},e),{},{isAuth:!1});case D:return Object(p.a)(Object(p.a)({},e),{},{user:null});case P:case z:return f.a.remove("access"),Object(p.a)(Object(p.a)({},e),{},{access:null,isAuth:!1,user:null});default:return e}},W="SET_TOGGLE_SIDEBAR",L="INITIALIZED_SUCESS",U={openSidebar:!1,initialized:!1},H=function(){return{type:W}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(p.a)(Object(p.a)({},e),{},{openSidebar:!e.openSidebar});case L:return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});default:return e}},Y="SET_USERS_LIST",q="SET_USERS_MESSAGES",J="SET_CLIENT_NAME",Q={users:[],messages:[],clientName:""},Z=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:a=t.sent,n((r=a.client.name,{type:J,clientName:r})),n((s=a.messages,{type:q,messages:s})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var s,r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case q:return Object(p.a)(Object(p.a)({},e),{},{messages:t.messages});case J:return Object(p.a)(Object(p.a)({},e),{},{clientName:t.clientName});default:return e}},$=Object(d.c)({form:b.a,appPage:G,authPage:R,usersPage:V}),K=Object(d.e)($,Object(d.a)(j.a));window.store=K;var X=K,ee=n(76),te=n(77),ne=n(84),ae=n(83),se=n(22),re=n(442),ce=n(17),ie=n(463),oe=n(466),le=n(6),ue=n(37),de=n(444),je=n(445),be=n(465),pe=n(446),he=n(214),xe=n.n(he),me=n(447),Oe=n(215),fe=n.n(Oe),ge=n(216),ve=n.n(ge),ye=n(217),Se=n.n(ye),ke=n(218),we=n.n(ke),Fe=n(451),Te=n(448),Ce=n(450),Ne=n(449),Pe=Object(re.a)((function(e){return{logoText:{fontFamily:"Poppins",fontSize:"30px",fontWeight:"bold",color:"#2d1674"},listText:{fontFamily:"Poppins",fontSize:"15px"},listEmail:{fontFamily:"Poppins",fontSize:"12px"},listItem:{fontFamily:"Poppins",fontSize:"15px",color:"#334D6E"},dialogTitle:{fontFamily:"Poppins",fontSize:"16px"}}})),Ee=function(e){var t=Pe(),n=function(){e.setOpen(!1)};return Object(a.jsx)("div",{children:Object(a.jsxs)(Te.a,{open:e.open,onClose:n,"aria-labelledby":"alert-dialog-title",children:[Object(a.jsxs)(Ne.a,{id:"alert-dialog-title",children:[" ",Object(a.jsx)("span",{className:t.dialogTitle,children:" \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 ? "})," "]}),Object(a.jsxs)(Ce.a,{children:[Object(a.jsx)(Fe.a,{color:"secondary",onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(a.jsx)(Fe.a,{color:"primary",onClick:function(){e.logoutThunk()},children:"\u041e\u041a"})]})]})})},De=function(e){var t=Pe(),n=Object(se.g)(),r=Object(s.useState)(!1),c=Object(ue.a)(r,2),i=c[0],o=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"d-flex justify-content-center pt-2",children:Object(a.jsx)("div",{children:Object(a.jsxs)("span",{className:t.logoText,children:[Object(a.jsx)("span",{style:{color:"#109CF1"},children:"Q"}),"PSY"]})})}),Object(a.jsxs)(de.a,{dense:!0,style:{marginTop:"-5%"},children:[Object(a.jsx)("hr",{}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(be.a,{alt:"",style:{marginRight:"5%"}}),Object(a.jsx)(pe.a,{classes:{primary:t.listText,secondary:t.listEmail},primary:"".concat(e.user.first_name," ").concat(e.user.last_name),secondary:e.user.psy_code})]})]}),Object(a.jsxs)("div",{className:"mt-4",children:[Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsx)(l.b,{to:"/",style:{textDecoration:"none"},children:Object(a.jsxs)(je.a,{button:!0,selected:"/"===n.pathname||n.pathname.includes("/chat"),children:[Object(a.jsx)(me.a,{children:Object(a.jsx)(xe.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(pe.a,{primary:"\u0427\u0430\u0442\u044b",classes:{primary:t.listItem}})]})})}),Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsx)(l.b,{to:"/tape",style:{textDecoration:"none"},children:Object(a.jsxs)(je.a,{button:!0,selected:n.pathname.includes("/tape"),children:[Object(a.jsx)(me.a,{children:Object(a.jsx)(fe.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(pe.a,{primary:"\u041b\u0435\u043d\u0442\u0430",classes:{primary:t.listItem}})]})})}),Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsx)(l.b,{to:"/stat",style:{textDecoration:"none"},children:Object(a.jsxs)(je.a,{button:!0,selected:n.pathname.includes("/stat"),children:[Object(a.jsx)(me.a,{children:Object(a.jsx)(ve.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(pe.a,{primary:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",classes:{primary:t.listItem}})]})})})]}),Object(a.jsxs)("div",{className:"mt-4",children:[Object(a.jsx)("hr",{}),Object(a.jsx)(l.b,{to:"/settings",style:{textDecoration:"none"},children:Object(a.jsx)("div",{onClick:e.setToggleSidebar,children:Object(a.jsxs)(je.a,{button:!0,selected:n.pathname.includes("/settings"),children:[Object(a.jsx)(me.a,{children:Object(a.jsx)(Se.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(pe.a,{primary:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",classes:{primary:t.listItem}})]})})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("hr",{}),Object(a.jsx)("div",{onClick:function(){o(!0)},children:Object(a.jsxs)(je.a,{button:!0,children:[Object(a.jsx)(me.a,{children:Object(a.jsx)(we.a,{style:{color:"#334D6E"}})}),Object(a.jsx)(pe.a,{primary:"\u0412\u044b\u0439\u0442\u0438",classes:{primary:t.listItem}})]})})]}),Object(a.jsx)(Ee,{open:i,setOpen:o,logoutThunk:e.logoutThunk})]})},Ie=Object(le.a)((function(e){return{drawerPaper:Object(ce.a)({width:270,height:"100vh"},e.breakpoints.up("md"),{position:"relative"})}}),{withTheme:!0})((function(e){var t=e.classes;e.theme;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ie.a,{mdUp:!0,children:Object(a.jsx)(oe.a,{variant:"temporary",anchor:"left",open:e.openSidebar,onClose:e.setToggleSidebar,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:Object(a.jsx)(De,{logoutThunk:e.logoutThunk,user:e.user,isAdmin:e.isAdmin,isSuperPsy:e.isSuperPsy,isPsy:e.isPsy,setToggleSidebar:e.setToggleSidebar})})}),Object(a.jsx)(ie.a,{smDown:!0,implementation:"css",children:Object(a.jsx)(oe.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper},children:Object(a.jsx)(De,{logoutThunk:e.logoutThunk,user:e.user,isAdmin:e.isAdmin,isSuperPsy:e.isSuperPsy,isPsy:e.isPsy})})})]})})),Ae=Object(u.b)((function(e){return{openSidebar:e.appPage.openSidebar,user:e.authPage.user,isAdmin:e.authPage.isAdmin,isSuperPsy:e.authPage.isSuperPsy,isPsy:e.authPage.isPsy}}),{setToggleSidebar:H,logoutThunk:function(){return function(e){e({type:z})}}})((function(e){return Object(a.jsx)(Ie,{openSidebar:e.openSidebar,setToggleSidebar:e.setToggleSidebar,logoutThunk:e.logoutThunk,user:e.user,isAdmin:e.isAdmin,isSuperPsy:e.isSuperPsy,isPsy:e.isPsy})})),_e=n(452),ze=n(453),Me=n(190),Be=n(454),Re=n(158),We=n.n(Re),Le=n(219),Ue=n.n(Le),He=n(220),Ge=n.n(He),Ye=Object(re.a)((function(e){return{appBar:Object(ce.a)({position:"absolute",marginLeft:270},e.breakpoints.up("md"),{width:"calc(100% - ".concat(270,"px)")}),navIconHide:Object(ce.a)({},e.breakpoints.up("md"),{display:"none"}),searchInput:{boxShadow:"none",marginRight:"5%",width:"90%"}}})),qe=function(e){var t=Ye(),n=Object(se.g)(),r=function(e){console.log(e)},c=Object(s.useState)(""),i=Object(ue.a)(c,2),o=i[0],l=i[1],u=Object(s.useState)(""),d=Object(ue.a)(u,2),j=d[0],b=d[1];return Object(a.jsx)(_e.a,{className:t.appBar,children:Object(a.jsxs)(ze.a,{style:{backgroundColor:"#FFFFFF"},children:[Object(a.jsx)(Me.a,{color:"primary","aria-label":"Open drawer",onClick:e.setToggleSidebar,className:t.navIconHide,children:Object(a.jsx)(Ue.a,{})}),n.pathname.includes("/chat/")&&Object(a.jsx)(We.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439...",value:j,onChange:function(e){return b(e)},onRequestSearch:function(){return r(j)},className:t.searchInput}),"/"===n.pathname&&Object(a.jsx)(We.a,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439...",value:o,onChange:function(e){return l(e)},onRequestSearch:function(){return r(o)},className:t.searchInput}),!n.pathname.includes("/chat/")&&"/"!==n.pathname&&Object(a.jsx)("div",{className:t.searchInput,children:" "}),Object(a.jsx)(Be.a,{color:"secondary",variant:"dot",children:Object(a.jsx)(Ge.a,{style:{color:"#C2CFE0"}})})]})})},Je=Object(u.b)((function(e){return{}}),{setToggleSidebar:H})((function(e){return Object(a.jsx)(qe,{setToggleSidebar:e.setToggleSidebar})})),Qe=n(34),Ze=n.n(Qe),Ve=n(221),$e=n.n(Ve),Ke=Object(re.a)((function(e){return{root:{background:"#FFFFFF",borderRadius:"1%",padding:"1%",marginBottom:"1%"},root2:{background:"#FFFFFF",width:"60%",padding:"1%"},buttonPer:{color:"white",fontFamily:"Poppins",fontSize:"80%",marginTop:"7%"},large:{width:e.spacing(7),height:e.spacing(7),backgroundColor:"black",color:"white"},userName:{fontFamily:"Poppins",fontSize:"18px"},userText:{fontFamily:"Poppins",fontSize:"15px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},dialogTitle:{fontFamily:"Poppins",fontSize:"24px",fontWeight:"bold"},buttonNo:{color:"#FFFFFF",width:"35%"},buttonYes:{color:"#FFFFFF",width:"35%"},dialogApp:{padding:"5%"}}})),Xe=function(e){var t=Ke();return Object(a.jsxs)(Te.a,{open:e.open,onClose:function(){e.setOpen(!1)},fullWidth:!0,children:[Object(a.jsxs)(Ne.a,{id:"alert-dialog-title",style:{textAlign:"center",margin:"9%"},children:[" ",Object(a.jsxs)("span",{className:t.dialogTitle,children:[" \u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u041a\u0435\u043d ",Object(a.jsx)("br",{})," \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443 ? "]})," "]}),Object(a.jsxs)(Ce.a,{style:{justifyContent:"center",marginBottom:"5%"},children:[Object(a.jsx)(Fe.a,{className:t.buttonYes,style:{backgroundColor:" #098EDF"},children:"\u0414\u0410"}),Object(a.jsx)(Fe.a,{className:t.buttonNo,style:{backgroundColor:"#C4C4C4"},children:"\u041d\u0415\u0422"})]})]})},et=function(e){var t=Ke(),n=Object(s.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("div",{className:t.root2,children:Object(a.jsx)(l.b,{to:"/chat/"+e.id,style:{textDecoration:"none"},children:Object(a.jsx)(de.a,{dense:!0,children:Object(a.jsxs)(je.a,{children:[Object(a.jsxs)(be.a,{style:{marginRight:"3%"},className:t.large,children:[" ",e.name[0]," "]}),Object(a.jsx)(pe.a,{classes:{primary:t.userName,secondary:t.userText},primary:e.name,secondary:e.last_message})]})})})}),Object(a.jsx)("div",{className:"d-flex align-items-center mr-3",children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)(Be.a,{color:"secondary",overlap:"circle",badgeContent:"+".concat(e.unread),children:Object(a.jsx)($e.a,{style:{color:"#109CF1"},fontSize:"large"})}),Object(a.jsx)("div",{children:Object(a.jsx)(Fe.a,{style:{backgroundColor:"#F7685B"},onClick:function(){i(!0)},className:t.buttonPer,children:" \u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c "})})]})})]})}),Object(a.jsx)(Xe,{open:c,setOpen:i})]})},tt=n(222),nt=Object(re.a)((function(e){return{main:Object(ce.a)({flexGrow:1,backgroundColor:"#E5E5E5",padding:3*e.spacing(3)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar}})),at=function(e){var t=nt(),n=Object(s.useState)(!0),r=Object(ue.a)(n,2),c=r[0];r[1];return Object(a.jsxs)("main",{className:t.main,children:[Object(a.jsx)("div",{className:t.toolBar}),Object(a.jsx)("div",{id:"scrollableDiv",style:{height:"75vh",overflow:"auto"},children:Object(a.jsx)(tt.a,{dataLength:e.users.length,hasMore:c,loader:Object(a.jsx)("h4",{children:" \u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0447\u0430\u0442\u043e\u0432 "}),scrollableTarget:"scrollableDiv",endMessage:Object(a.jsx)("p",{children:" that's all "}),children:e.users.map((function(e,t){return Object(a.jsx)(et,{id:e.id,name:e.name,unread:e.unread,last_message:e.last_message})}))})})]})},st=function(e){Object(ne.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ee.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).intervalID=1975,e}return Object(te.a)(n,[{key:"fetchChats",value:function(){var e=this;this.intervalID=setInterval((function(){console.log("fetching chats"),e.props.getChatsThunk()}),3e3)}},{key:"componentDidMount",value:function(){this.props.getChatsThunk(),this.fetchChats()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return Object(a.jsx)(at,{users:this.props.users})}}]),n}(r.a.Component),rt=Object(u.b)((function(e){return{users:e.usersPage.users}}),{getChatsThunk:function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:n=e.sent,t((a=n.chats,{type:Y,users:a})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(st),ct=Object(re.a)((function(e){return{main:Object(ce.a)({flexGrow:1,backgroundColor:"#E5E5E5",padding:3*e.spacing(3)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar}})),it=function(){var e=ct();return Object(a.jsxs)("main",{className:e.main,children:[Object(a.jsx)("div",{className:e.toolBar}),Object(a.jsx)("div",{children:" Welcome to the settings page :) This page has not been created yet. "})]})},ot=Object(re.a)((function(e){return{main:Object(ce.a)({flexGrow:1,backgroundColor:"#E5E5E5",padding:3*e.spacing(3)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar}})),lt=function(){var e=ot();return Object(a.jsxs)("main",{className:e.main,children:[Object(a.jsx)("div",{className:e.toolBar}),Object(a.jsx)("div",{children:"Welcome to the tape page :) This page has not been created yet."})]})},ut=n(191),dt=n(455),jt=n(456),bt=n(457),pt=n(223),ht=n.n(pt),xt=n(125),mt=n.n(xt),Ot=n(126),ft=n.n(Ot),gt=Object(re.a)((function(e){return{input:Object(ce.a)({flex:"1 1 0%",padding:"1%",backgroundColor:"white"},e.breakpoints.down("sm"),{padding:"2%"})}})),vt=function(e){var t=Object(s.useState)(""),n=Object(ue.a)(t,2),r=n[0],c=n[1],i=gt(),o=function(){e.sendMessageThunk(e.chatID,r),c("")};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ut.a,{placeholder:"Write a message",value:r,onChange:function(e){return c(e.target.value)},type:"text",margin:"normal",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),o())},className:i.input,startAdornment:Object(a.jsx)(dt.a,{position:"start",children:Object(a.jsx)(mt.a,{style:{color:"#90A0B7",cursor:"pointer"}})}),endAdornment:Object(a.jsx)(dt.a,{position:"end",children:Object(a.jsx)(ft.a,{style:{color:"#90A0B7",cursor:"pointer"}})})}),Object(a.jsx)(jt.a,{color:"primary",size:"medium",onClick:o,style:{marginLeft:"1%"},"aria-label":"send",children:Object(a.jsx)(ht.a,{})})]})},yt=function(e){return Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsx)(bt.a,{container:!0,spacing:0,justify:"center",alignItems:"center",children:Object(a.jsx)(vt,{sendMessageThunk:e.sendMessageThunk,chatID:e.chatID})})})},St=n(87),kt=Object(re.a)((function(e){var t;return{content:{backgroundColor:"#FFFFFF",border:"1px solid white",marginTop:"0.3%",padding:"2%",height:"calc(100% - 30%)",boxSizing:"border-box",flex:1,position:"relative",overflowX:"hidden",overflowY:"auto"},conversation:(t={boxSizing:"border-box",width:"100%",marginBottom:2*e.spacing(1)},Object(ce.a)(t,e.breakpoints.down("sm"),{padding:"0 ".concat(1*e.spacing(1),"px")}),Object(ce.a)(t,e.breakpoints.up("sm"),{padding:"0 ".concat(3*e.spacing(1),"px")}),Object(ce.a)(t,"display","flex"),t),conversationSent:{justifyContent:"flex-end"},body:{position:"relative",padding:".625rem 1rem",backgroundColor:"#1F7BB3",borderRadius:"3px",boxShadow:e.shadows[1]},bodyReceived:{"&::after":{position:"absolute",top:0,width:0,height:0,content:'""',border:"5px solid #1F7BB3",borderBottomColor:"transparent",left:"-7px",borderLeftColor:"transparent"}},bodySent:{position:"relative",backgroundColor:"#109CF1",float:"right",order:1,"&::after":{position:"absolute",bottom:0,width:0,height:0,content:'""',border:"5px solid #109CF1",borderTopColor:"transparent",borderRightColor:"transparent",right:"-7px"}},messageChat:{color:"white",fontFamily:"Poppins",fontSize:"100%"},date:{display:"block",fontSize:"10px",paddingTop:"2px",fontFamily:"Poppins",fontWeight:"600",color:e.palette.primary.contrastText},dateSent:{textAlign:"right"}}})),wt=function(e){var t=kt(),n=function(e){var t=new Date(Date.parse(e));return t.getHours()+":"+t.getMinutes()};return Object(a.jsx)("div",{className:t.content,children:e.messages.map((function(e,s){return Object(a.jsx)("div",{className:Ze()(t.conversation,"RECEIVED"===e.status?t.conversationSent:t.conversationReceived),children:Object(a.jsxs)("div",{className:Ze()(t.body,"RECEIVED"===e.status?t.bodySent:t.bodyReceived),children:[Object(a.jsxs)(St.a,{className:t.messageChat,children:[" ",e.text," "]}),Object(a.jsx)(St.a,{variant:"caption",className:Ze()(t.date,"RECEIVED"===e.status?t.dateSent:t.dateReceived),children:n(e.timestamp)})]})},s)}))})},Ft=function(e){Object(ne.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(ee.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).intervalID=24102e3,e}return Object(te.a)(n,[{key:"fetchMessages",value:function(){var e=this;this.intervalID=setInterval((function(){console.log("fetching messages"),e.props.getUserMessagesThunk(e.props.chatID)}),2e3)}},{key:"componentDidMount",value:function(){this.props.getUserMessagesThunk(this.props.chatID),this.fetchMessages()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){return Object(a.jsx)(wt,{messages:this.props.messages})}}]),n}(r.a.Component),Tt=Object(u.b)((function(e){return{messages:e.usersPage.messages}}),{getUserMessagesThunk:Z})(Ft),Ct=Object(re.a)((function(e){return{headerChat:Object(ce.a)({padding:"2%",backgroundColor:"#FFFFFF",fontFamily:"Poppins",fontSize:"100%",color:"#323C47"},e.breakpoints.down("sm"),{padding:"4%"})}})),Nt=Object(u.b)((function(e){return{clientName:e.usersPage.clientName}}))((function(e){var t=Ct();return Object(a.jsx)("div",{className:t.headerChat,children:e.clientName})})),Pt=Object(re.a)((function(e){return{main:Object(ce.a)({flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing(3)},e.breakpoints.down("sm"),{padding:3*e.spacing(1)}),toolBar:e.mixins.toolbar}})),Et=Object(se.h)((function(e){var t=Pt();return Object(a.jsxs)("main",{className:t.main,children:[Object(a.jsx)("div",{className:t.toolBar}),Object(a.jsx)(Nt,{}),Object(a.jsx)(Tt,{chatID:e.match.params.id}),Object(a.jsx)(yt,{chatID:e.match.params.id,sendMessageThunk:e.sendMessageThunk})]})})),Dt=Object(u.b)((function(e){return{}}),{sendMessageThunk:function(e,t){return function(){var n=Object(m.a)(x.a.mark((function n(a){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C(e,t);case 3:a(Z(e)),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(Et,{sendMessageThunk:e.sendMessageThunk})})),It=Object(re.a)((function(e){return{root:{flexGrow:1,height:"100vh",zIndex:1,overflow:"hidden",position:"relative",display:"flex",backgroundColor:"#E5E5E5"}}})),At=Object(d.d)((function(e){return Object(u.b)((function(e){return{isAuth:e.authPage.isAuth}}))((function(t){return t.isAuth?Object(a.jsx)(e,Object(p.a)({},t)):Object(a.jsx)(se.a,{to:"/login"})}))}),Object(u.b)((function(e){return{user:e.authPage.user}}),{}))((function(e){var t=It();return e.user?Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(Je,{}),Object(a.jsx)(Ae,{}),Object(a.jsx)(se.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(rt,{})}}),Object(a.jsx)(se.b,{exact:!0,path:"/chat/:id/",render:function(){return Object(a.jsx)(Dt,{})}}),Object(a.jsx)(se.b,{exact:!0,path:"/settings",render:function(){return Object(a.jsx)(it,{})}}),Object(a.jsx)(se.b,{exact:!0,path:"/tape",render:function(){return Object(a.jsx)(lt,{})}})]}):Object(a.jsx)("div",{})})),_t=n.p+"static/media/successLogo.693b0fb4.svg",zt=n(458),Mt=n(459),Bt=Object(re.a)((function(e){return{titleSuc:{fontFamily:"Poppins",color:"#4C5862",fontSize:"20px"},buttonSuc:{fontSize:"14px",color:"#FFFFFF",height:"32px",width:"120px",fontFamily:"Poppins"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"}}})),Rt=function(){var e=Bt();return Object(a.jsx)("div",{className:Ze()(e.session,e.background),children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsxs)(zt.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:e.logoT2,children:[Object(a.jsx)("span",{className:e.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"mb-2",children:Object(a.jsx)("img",{src:_t})}),Object(a.jsx)("div",{className:"mb-3",children:Object(a.jsx)("span",{className:e.titleSuc,children:" \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d! "})}),Object(a.jsx)(l.b,{to:"/login",style:{textDecoration:"none"},children:Object(a.jsx)(Fe.a,{variant:"contained",style:{backgroundColor:"#098EDF"},className:e.buttonSuc,children:" \u0412\u043e\u0439\u0442\u0438 "})})]})})]})})})})},Wt=n(204),Lt=n(205),Ut=function(e){if(!e)return"\u041f\u043e\u043b\u0435, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},Ht=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 (@)":e?void 0:"\u041f\u043e\u043b\u0435, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},Gt=function(e,t){return function(n){return n.length>t?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(t," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):n.length<e?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):void 0}},Yt=function(e){if(null===/^(?=.*[a-zA-Z]).{1,}$/.exec(e))return"\u0425\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0430 \u0431\u0443\u043a\u0432\u0430"},qt=n(462),Jt=n(460),Qt=n(467),Zt=n(461),Vt=n(464),$t=n(224),Kt=n.n($t),Xt=n(225),en=n.n(Xt),tn=(Object(re.a)((function(e){return{input:Object(ce.a)({flex:"1 1 0%",padding:"1%",backgroundColor:"white"},e.breakpoints.down("sm"),{padding:"2%"})}})),function(e){var t=e.label,n=e.input,s=e.meta,r=s.touched,c=s.invalid,i=s.error;return Object(a.jsx)(qt.a,Object(p.a)({label:t,placeholder:t,type:"text",error:r&&c,helperText:r&&i,fullWidth:!0},n))}),nn=function(e){var t=e.input;return Object(a.jsx)(Vt.a,Object(p.a)({style:{color:"#098EDF"}},t))},an=function(e){var t=e.label,n=e.input,s=e.meta,c=s.touched,i=s.invalid,o=s.error,l=r.a.useState({showPassword:!1}),u=Object(ue.a)(l,2),d=u[0],j=u[1];return Object(a.jsxs)(Jt.a,{fullWidth:!0,error:c&&o,children:[Object(a.jsxs)(Qt.a,{children:[" ",t," "]}),Object(a.jsx)(ut.a,Object(p.a)({fullWidth:!0,error:c&&i,helperText:c&&o,type:d.showPassword?"text":"password",endAdornment:Object(a.jsx)(dt.a,{position:"end",children:Object(a.jsx)(Me.a,{"aria-label":"toggle password visibility",onClick:function(){j(Object(p.a)(Object(p.a)({},d),{},{showPassword:!d.showPassword}))},onMouseDown:function(e){e.preventDefault()},children:d.showPassword?Object(a.jsx)(Kt.a,{}):Object(a.jsx)(en.a,{})})})},n)),c&&o&&Object(a.jsxs)(Zt.a,{id:"component-error-text",children:[" ",o," "]})]})},sn=Object(re.a)((function(e){return{rememberMe:{fontFamily:"Poppins",fontSize:"13px",color:"#4C5862"},forgotPassword:{fontFamily:"Poppins",fontSize:"13px",color:"#109CF1",fontWeight:"bold"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"},errorText:{fontFamily:"Poppins",color:"red",padding:"1% 0 1% 0",fontSize:"14px",marginBottom:"4%"}}})),rn=Gt(5,50),cn=Object(Lt.a)({form:"login"})((function(e){var t=sn();return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(a.jsx)("div",{className:t.errorText,children:e.error}),Object(a.jsx)("div",{children:Object(a.jsx)(Wt.a,{name:"email",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",component:tn,validate:[Ht,rn]})}),Object(a.jsx)("div",{className:"mt-5 mb-4",children:Object(a.jsx)(Wt.a,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",component:an,validate:[Ut,rn]})}),Object(a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Wt.a,{name:"remember_me",component:nn,type:"checkbox"})," ",Object(a.jsx)("span",{className:t.rememberMe,children:" \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c "})]}),Object(a.jsx)("div",{children:Object(a.jsx)(Fe.a,{variant:"contained",type:"submit",style:{backgroundColor:"#098EDF",color:"#FFFFFF",width:"120px",height:"30px"},children:" \u0412\u043e\u0439\u0442\u0438 "})})]}),Object(a.jsx)("div",{className:"d-flex justify-content-start pl-5",children:Object(a.jsx)(l.b,{to:"/email_recovery",style:{textDecoration:"none"},children:Object(a.jsx)("span",{className:t.forgotPassword,children:" \u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? "})})})]})})),on=function(e){var t=sn();return e.isAuth?Object(a.jsx)(se.a,{to:"/"}):Object(a.jsx)("div",{className:Ze()(t.session,t.background),children:Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsxs)(zt.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:t.logoT2,children:[Object(a.jsx)("span",{className:t.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)(cn,{onSubmit:function(t){var n=!!t.remember_me;e.loginThunk(t.email,t.password,n)}})})]})})})})},ln=Object(u.b)((function(e){return{isAuth:e.authPage.isAuth}}),{loginThunk:function(e,t,n){return function(){var a=Object(m.a)(x.a.mark((function a(s){var r,c;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y(e,t);case 3:r=a.sent,c=n?7:1,f.a.set("access",r.access,{expires:c}),s({type:N,payload:r}),s(B()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),s(Object(g.b)("login",{_error:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})),s({type:P});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(on,{loginThunk:e.loginThunk,isAuth:e.isAuth})})),un=Object(u.b)(null,{loadUserThunk:B})((function(e){return Object(s.useEffect)((function(){(function(){var e=Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)(a.Fragment,{children:e.children})})),dn=Object(re.a)((function(e){return{root:{fontFamily:"Poppins"},titleEmail:{color:"#4C5862",fontSize:"14px"},buttonEmail:{fontSize:"14px",color:"#FFFFFF",height:"30px",fontFamily:"Poppins"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"}}})),jn=Gt(5,50),bn=Object(Lt.a)({form:"email_recovery"})((function(e){var t=dn();return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{className:"my-4",children:Object(a.jsx)(Wt.a,{name:"email",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",component:tn,validate:[Ht,jn]})}),Object(a.jsx)("div",{className:"d-flex justify-content-end",children:Object(a.jsx)(Fe.a,{variant:"contained",type:"submit",className:t.buttonEmail,style:{backgroundColor:"#098EDF"},children:" \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "})})]})})),pn=function(e){var t=dn();return Object(a.jsx)("div",{className:Ze()(t.session,t.background),children:Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsxs)(zt.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:t.logoT2,children:[Object(a.jsx)("span",{className:t.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(Mt.a,{children:Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:"d-flex justify-content-start",children:Object(a.jsx)("span",{className:t.titleEmail,children:" \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443. "})}),Object(a.jsx)("div",{children:Object(a.jsx)(bn,{onSubmit:function(t){e.resetPasswordThunk(t.email)}})})]})})]})})})})},hn=Object(u.b)((function(e){return{}}),{resetPasswordThunk:function(e){return function(){var t=Object(m.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:n(Object(g.a)("email_recovery")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(pn,{resetPasswordThunk:e.resetPasswordThunk})})),xn=Object(re.a)((function(e){return{titlePas:{fontFamily:"Poppins",color:"#4C5862",fontSize:"14px"},buttonPass:{fontSize:"14px",color:"#FFFFFF",height:"32px",fontFamily:"Poppins"},card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:"#E5E5E5;"},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"420px",width:"100%",margin:"0 auto"},logoT1:{color:"#109CF1"},logoT2:{fontFamily:"Poppins",fontSize:"26px",fontWeight:"bold",color:"#2d1674"},errorText:{fontFamily:"Poppins",fontSize:"14px",color:"red",marginBottom:"5%"}}})),mn=Gt(5,50),On=Object(Lt.a)({form:"password_recovery"})((function(e){var t=xn();return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(a.jsx)("div",{className:t.errorText,children:e.error}),Object(a.jsx)("div",{className:"d-flex justify-content-start",children:Object(a.jsx)("span",{className:t.titlePas,children:" \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f "})}),Object(a.jsx)("div",{className:"my-3",children:Object(a.jsx)(Wt.a,{name:"new_password",label:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",component:an,validate:[Ut,mn,Yt]})}),Object(a.jsx)("div",{className:"my-4",children:Object(a.jsx)(Wt.a,{name:"re_new_password",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",component:an,validate:[Ut,mn,Yt]})}),Object(a.jsx)("div",{className:"d-flex justify-content-end",children:Object(a.jsx)(Fe.a,{variant:"contained",type:"submit",style:{backgroundColor:"#098EDF"},className:t.buttonPass,children:" \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c "})})]})})),fn=function(e){var t=xn();if(e.confirmSuccess)return Object(a.jsx)(se.a,{to:"/success"});console.log(e.confirmSuccess);return Object(a.jsx)("div",{className:Ze()(t.session,t.background),children:Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)("div",{className:t.wrapper,children:Object(a.jsxs)(zt.a,{children:[Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsxs)("span",{className:t.logoT2,children:[Object(a.jsx)("span",{className:t.logoT1,children:"Q"}),"PSY"]}),Object(a.jsx)("hr",{})]}),Object(a.jsx)(Mt.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsx)(On,{onSubmit:function(t){e.resetConfirmThunk(e.uid,e.token,t.new_password,t.re_new_password)}})})})})]})})})})},gn=Object(d.d)(se.h,Object(u.b)((function(e){return{confirmSuccess:e.authPage.confirmSuccess}}),{resetConfirmThunk:function(e,t,n,a){return function(){var s=Object(m.a)(x.a.mark((function s(r){return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n!==a){s.next=12;break}return s.prev=1,s.next=4,w(e,t,n);case 4:r({type:_,confirmSuccess:!0}),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(1),console.log(s.t0);case 10:s.next=13;break;case 12:r(Object(g.b)("password_recovery",{_error:" \u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435."}));case 13:case"end":return s.stop()}}),s,null,[[1,7]])})));return function(e){return s.apply(this,arguments)}}()}}))((function(e){var t=e.match.params.uid,n=e.match.params.token;return Object(a.jsx)(fn,{uid:t,token:n,resetConfirmThunk:e.resetConfirmThunk,confirmSuccess:e.confirmSuccess})})),vn=function(e){Object(ne.a)(n,e);var t=Object(ae.a)(n);function n(){return Object(ee.a)(this,n),t.apply(this,arguments)}return Object(te.a)(n,[{key:"componentDidMount",value:function(){this.props.initSuccessThunk()}},{key:"render",value:function(){return this.props.initialized?Object(a.jsx)(un,{children:Object(a.jsxs)(se.d,{children:[Object(a.jsx)(se.b,{exact:!0,path:"/login",render:function(){return Object(a.jsx)(ln,{})}}),Object(a.jsx)(se.b,{exact:!0,path:"/email_recovery",render:function(){return Object(a.jsx)(hn,{})}}),Object(a.jsx)(se.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",render:function(){return Object(a.jsx)(gn,{})}}),Object(a.jsx)(se.b,{exact:!0,path:"/success",render:function(){return Object(a.jsx)(Rt,{})}}),Object(a.jsx)(At,{})]})}):Object(a.jsx)("div",{})}}]),n}(r.a.Component),yn=Object(u.b)((function(e){return{initialized:e.appPage.initialized}}),{initSuccessThunk:function(){return function(e){var t=e(function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.a.get("access")?t({type:I}):t({type:A});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=e(B());Promise.all([t,n]).then((function(){e({type:L})}))}}})(vn);i.a.render(Object(a.jsx)(l.a,{basename:"/qpsy-app",children:Object(a.jsx)(u.a,{store:X,children:Object(a.jsx)(yn,{})})}),document.getElementById("root")),o()}},[[410,1,2]]]);
//# sourceMappingURL=main.e7a83008.chunk.js.map